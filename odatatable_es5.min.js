var _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};
(function(b){var l={ajax:{},buttons:["copy","csv","excel","pdf","print"],dom:"<'row'<'col-sm-6'l><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>B",scrollX:!0,serverSide:!0};b.fn.oDataTable=function(c){c=b.extend({},l,c);c.initComplete||(c.initComplete=function(){0!=c.searching&&this.api().columns().every(function(){var a=c.columns[this.index()];if(0!=a.searchable){var f=a.searchType;f&&b.fn.oDataTable.SearchTypes[f]||(f="default");var d=a.searchChoices;d?b.fn.oDataTable.SearchTypes[f].setHeaderFooter_searchChoices(this,
c,a,d):b.fn.oDataTable.SearchTypes[f].setHeaderFooter(this,c,a)}})});return this.each(function(){var a=b(this);b.fn.DataTable.isDataTable(a)&&a.dataTable().api().destroy();a.empty();0!=c.searching&&(a.append("<thead><tr>"+c.columns.map(function(){return'<th style="vertical-align: top;"></th>'}).join("")+"</tr></thead>"),a.append("<tfoot><tr>"+c.columns.map(function(){return'<td style="position: relative; z-index: 1000;"></td>'}).join("")+"</tr></tfoot>"));var f=void 0;c.ajax.data||(c.ajax.data=function(a){f=
a.draw;var d={$count:"true"};d.$filter=a.columns.filter(function(a,d){if(a.searchable&&null!=a.search&&a.search.value){var e=c.columns[d].searchType;e&&b.fn.oDataTable.SearchTypes[e]||(e="default");a.filterString=b.fn.oDataTable.SearchTypes[e].getFilterString(a.data,a.search.value);return a.filterString}return!1}).map(function(a){return a.filterString}).join(" and ")||null;d.$orderby=a.order.map(function(b){return a.columns[b.column].data+" "+b.dir}).join(",")||null;d.$search=a.search&&a.search.value?
a.search.value:null;d.$select=a.columns.filter(function(a,b,d){return d.indexOf(a)===b}).map(function(a){return a.data}).join(",");d.$skip=a.start;d.$top=a.length;var e=[],h;for(h in d)null!=d[h]&&e.push(h+"="+d[h]);return e.join("&")});c.ajax.dataFilter||(c.ajax.dataFilter=function(a){a=JSON.parse(a);return JSON.stringify({draw:f,recordsTotal:a["@odata.count"],recordsFiltered:a["@odata.count"],data:a.value})});a.DataTable(c)})};b.fn.oDataTable.headerWrapperString="<div>";b.fn.oDataTable.SearchTypes=
{};b.fn.oDataTable.SearchTypes["default"]=b.fn.oDataTable.SearchTypes.string=b.fn.oDataTable.SearchTypes["string-contains"]={getFilterString:function(b,a){return"contains("+b+", '"+a+"')"},setHeaderFooter:function(c,a,f){f="";var d=c.index();a&&a.searchCols&&a.searchCols[d]&&a.searchCols[d].search&&(f=a.searchCols[d].search);a=b('<input type="text" style="font-weight: normal; padding: 4px; width: 100%; border-radius: 4px; border: 1px solid #ddd;" value="'+f+'">');a.on("change keyup",function(a){c.search(b(this).val());
c.draw()});var g=a.clone(!0);g.on("click",function(a){a.stopPropagation()});g.on("change keyup",function(a){e.val(b(this).val())});b(c.header()).append(b(b.fn.oDataTable.headerWrapperString).append(g));var e=a.clone(!0);e.on("change keyup",function(a){g.val(b(this).val())});b(c.footer()).append(e)},setHeaderFooter_searchChoices:function(c,a,f,d){var g="",e=c.index();a&&a.searchCols&&a.searchCols[e]&&a.searchCols[e].search&&(g=a.searchCols[e].search);for(e=0;e<d.length;e++)null==d[e]?d[e]={text:"-",
value:"",selected:""==g}:"object"==_typeof(d[e])?("function"==typeof d[e].value&&(d[e].value=d[e].value(c,a,f,d)),d[e].selected=g==d[e].value):d[e]={text:d[e],value:d[e],selected:g==d[e]};a=d.map(function(a){return'<option value="'+a.value+'"'+(a.selected?"selected":"")+">"+a.text+"</option>"}).join("");a=b('<select style="font-weight: normal; padding: 4px; width: 100%; border-radius: 4px; border: 1px solid #ddd;">'+a+"</select>");a.on("change",function(a){b(this).val()?c.search(b(this).val()):c.search("");
c.draw()});var h=a.clone(!0).on("click",function(a){a.stopPropagation()}).on("change",function(a){k.val(b(this).val())});b(c.header()).append(b(b.fn.oDataTable.headerWrapperString).append(h));var k=a.clone(!0).on("change",function(a){h.val(b(this).val())});b(c.footer()).append(k)}};b.fn.oDataTable.SearchTypes["string-equals"]={getFilterString:function(b,a){return b+" eq '"+a+"'"},setHeaderFooter:b.fn.oDataTable.SearchTypes["default"].setHeaderFooter,setHeaderFooter_searchChoices:b.fn.oDataTable.SearchTypes["default"].setHeaderFooter_searchChoices};
b.fn.oDataTable.SearchTypes.date=b.fn.oDataTable.SearchTypes["date-between"]={getFilterString:function(b,a){if(-1==a.indexOf(" - "))return"";var c=a.split(" - ");if(2>c.length||0==c[0].replace(/\s+/g,"").length||0==c[1].replace(/\s+/g,"").length)return"";var d=moment(c[0]).format("YYYY-MM-DDTHH:mm:ss.SSSZ");c=moment(c[1]).format("YYYY-MM-DDTHH:mm:ss.SSSZ");return"Invalid date"==d||"Invalid date"==c?"":"("+b+" ge "+d+" and "+b+" le "+c+")"},setHeaderFooter:function(c,a,f){f="";var d=c.index();a&&a.searchCols&&
a.searchCols[d]&&a.searchCols[d].search&&(f=a.searchCols[d].search);a=b('<input type="text" style="font-weight: normal; padding: 4px; width: 100%; border-radius: 4px; border: 1px solid #ddd;" value="'+f+'">');a.on("change keyup",function(a){c.search(b(this).val());c.draw()});var g=a.clone(!0);g.on("click",function(a){a.stopPropagation()});g.on("change keyup",function(a){e.val(b(this).val())});g.daterangepicker({autoUpdateInput:!1});g.on("apply.daterangepicker",function(a,b){g.val(b.startDate.format("YYYY/MM/DD")+
" - "+b.endDate.format("YYYY/MM/DD"));g.trigger("change")});b(c.header()).append(b(b.fn.oDataTable.headerWrapperString).append(g));var e=a.clone(!0);e.on("click",function(a){a.stopPropagation()});e.on("change keyup",function(a){g.val(b(this).val())});e.daterangepicker({autoUpdateInput:!1});e.on("apply.daterangepicker",function(a,b){e.val(b.startDate.format("YYYY/MM/DD")+" - "+b.endDate.format("YYYY/MM/DD"));e.trigger("change")});b(c.footer()).append(e)},setHeaderFooter_searchChoices:b.fn.oDataTable.SearchTypes["default"].setHeaderFooter_searchChoices}})(jQuery);
